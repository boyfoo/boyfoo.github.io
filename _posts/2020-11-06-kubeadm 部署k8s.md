---
layout: post
title: 'kubeadm 部署k8s'
date: 2020-11-06
author: boyfoo
tags: k8s
---

各机器根据官方要求，
1. **关闭对应设置**(参考二进制部署需要关闭的)
2. 根据官方下载文档下载对应工具
3. 配置好节点/etc/hosts

```bash
$ kubeadm init --apiserver-advertise-address=192.168.10.10 --image-repository registry.cn-hangzhou.aliyuncs.com/google_containers --service-cidr=10.1.0.0/16 --pod-network-cidr=10.244.0.0/16

$ mkdir -p $HOME/.kube
$ sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
$ sudo chown $(id -u):$(id -g) $HOME/.kube/config

# node节点加入后

# 下载网络文件内容
https://github.com/coreos/flannel/blob/master/Documentation/kube-flannel.yml

修改--kube-subnet-mgr下一行添加 指定的网卡
- --iface=eth1   


#运行 
kubectl apply -f kube-flannel.yml

运行网络 
# 节点都为Ready
$ kubectl get nodes -o wide
```